chrome.action.onClicked.addListener(e=>{e.id&&chrome.sidePanel.open({tabId:e.id})});chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0});chrome.runtime.onMessage.addListener((e,n,t)=>{if(e.type==="INJECT_CONTENT_SCRIPT")return chrome.tabs.query({active:!0,currentWindow:!0},async i=>{const r=i[0];if(r!=null&&r.id)try{await chrome.scripting.executeScript({target:{tabId:r.id},files:["content.js"]}),t({success:!0})}catch(c){console.error("Failed to inject content script:",c),t({success:!1,error:c.message})}}),!0});
